# =============================================================================
# PayFlow - Environment Variables Reference
# =============================================================================
# This is the ONLY .env file that should be committed to version control.
# All values here are FAKE PLACEHOLDERS - never put real secrets here.
#
# Setup:
#   1. Copy this file: cp .env.example .env
#   2. Replace placeholder values with your actual values
#   3. NEVER commit .env files (they're in .gitignore)
#
# The app automatically adjusts settings based on NODE_ENV.
# =============================================================================

# =============================================================================
# CORE SETTINGS
# =============================================================================

# Environment: development | test | production
NODE_ENV=development

# Set to true to use localhost URLs even in non-development mode
LOCAL_DEV=false

# Server port
PORT=3000

# =============================================================================
# DATABASE
# =============================================================================

# MongoDB connection string
# Development: mongodb://localhost:27017/payflow
# Test:        mongodb://localhost:27018/payflow-test
# Production:  mongodb+srv://user:pass@cluster/payflow
MONGODB_URI=mongodb://localhost:27017/payflow

# Redis connection
# Development: localhost:6379
# Test:        localhost:6380
# Production:  redis-cluster:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# =============================================================================
# AUTHENTICATION
# =============================================================================

# JWT secret - MUST be strong in production (32+ characters)
# Generate with: openssl rand -base64 32
JWT_SECRET=CHANGE_ME_GENERATE_WITH_openssl_rand_base64_32

# Token expiration times
JWT_ACCESS_TOKEN_EXPIRES_IN=15m
JWT_REFRESH_TOKEN_EXPIRES_IN=7d

# Bcrypt rounds (higher = more secure but slower)
# Development: 10 (~160ms)
# Test:        4  (fast)
# Production:  12 (~640ms)
BCRYPT_ROUNDS=10

# =============================================================================
# API SETTINGS
# =============================================================================

# Request body size limit
API_BODY_LIMIT=10kb

# Allowed CORS origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# =============================================================================
# RATE LIMITING
# =============================================================================

# Time window in milliseconds (default: 15 minutes)
RATE_LIMIT_WINDOW_MS=900000

# Max requests per window
# Development: 1000 (lenient)
# Production:  100  (strict)
RATE_LIMIT_MAX_REQUESTS=1000

# =============================================================================
# WEBHOOKS
# =============================================================================

# Webhook delivery timeout
WEBHOOK_TIMEOUT_MS=5000

# Number of retry attempts for failed webhooks
WEBHOOK_RETRY_ATTEMPTS=5

# Max failures before disabling webhook
WEBHOOK_MAX_FAILURE_COUNT=10

# Max webhooks per page in list endpoint
WEBHOOK_MAX_PAGE_LIMIT=100

# =============================================================================
# LOGGING & OBSERVABILITY
# =============================================================================

# Log level: error | warn | info | debug | trace
# Development: debug
# Test:        error
# Production:  info
LOG_LEVEL=debug

# OpenTelemetry
OTEL_ENABLED=false
OTEL_SERVICE_NAME=payflow-api
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318

# =============================================================================
# EXTERNAL SERVICES (Future Use)
# =============================================================================

# Payment Gateway (configure when integrating)
# PAYMENT_MERCHANT_ID=PGTESTPAYUAT
# PAYMENT_API_KEY=

# Email Service (configure when integrating)
# SMTP_HOST=smtp.example.com
# SMTP_PORT=587
# SMTP_USER=
# SMTP_PASSWORD=

# SMS Service (configure when integrating)
# SMS_API_KEY=
# SMS_SENDER_ID=
